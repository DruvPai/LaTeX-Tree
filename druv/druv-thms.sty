\ProvidesPackage{druv-thms}
\usepackage{druv-pkg}


% THEOREM STYLES AND SETUP

\newtheoremstyle{def}%
    {5pt}{0pt}%
    {\normalfont}{}%
    {\sffamily\bfseries}{ }%
    { }%
    {\thmname{#1}\thmnumber{ #2}\thmnote{ (#3)}}

\mdfsetup{skipabove=0pt,skipbelow=0pt} % this makes spacing play nice

\mdfdefinestyle{mdbluebox}{%
    roundcorner = 0pt,
    linewidth=1pt,
    skipabove=12pt,
    innerbottommargin=9pt,
    skipbelow=2pt,
    linecolor=blue,
    nobreak=true,
    backgroundcolor=TealBlue!5,
}
\declaretheoremstyle[
    headfont=\sffamily\bfseries\color{MidnightBlue},
    mdframed={style=mdbluebox},
    headpunct={\\[3pt]},
    postheadspace={0pt},
    notefont=\bfseries
]{thmbluebox}

\mdfdefinestyle{mdaltbluebox}{%
    linewidth=0.5pt,
    skipabove=12pt,
    frametitleaboveskip=5pt,
    frametitlebelowskip=0pt,
    skipbelow=0pt,
    linecolor = NavyBlue,
    frametitlefont=\bfseries,
    innertopmargin=4pt,
    innerbottommargin=8pt,
    nobreak=true,
    backgroundcolor=CornflowerBlue!7,
}
\declaretheoremstyle[
    headfont=\sffamily\bfseries\color{RoyalBlue},
    mdframed={style=mdaltbluebox},
    headpunct={\\[3pt]},
    postheadspace={0pt},
    notefont=\bfseries
]{thmaltbluebox}

\mdfdefinestyle{mdmiscbluebox}{%
    roundcorner=0pt,
    linewidth=0pt,
    skipabove=12pt,
    innerbottommargin=9pt,
    skipbelow=2pt,
    linecolor=black!0,
    nobreak=true,
    backgroundcolor=ProcessBlue!10,
}

\declaretheoremstyle[
    headfont=\sffamily\bfseries\color{NavyBlue!60!ProcessBlue},
    mdframed={style=mdmiscbluebox},
    headpunct={\\[3pt]},
    postheadspace={0pt},
    notefont=\bfseries
]{thmmiscbluebox}

\mdfdefinestyle{mdinlinebox}{%
    skipabove=8pt,
    linewidth=3pt,
    rightline=false,
    leftline=true,
    topline=false,
    bottomline=false,
    linecolor=Blue,
    backgroundcolor=blue!2
}
\declaretheoremstyle[
    headfont=\sffamily\small\bfseries\color{Blue},
    bodyfont=\normalfont\small,
    spaceabove=0pt,
    spacebelow=0pt,
    notefont=\bfseries,
    mdframed={style=mdinlinebox}
]{thminlinebox}

\newcommand{\multicolhack}{$\empty$\vspace{-1.3em}}
\newcommand{\listhack}{$\empty$\vspace{-1.6em}}

\@ifundefined{chapter} % if chapter is undefined, use section numbering
{   
    \declaretheorem[style=thmbluebox,name=Theorem,
        preheadhook=\vspace{\parskip},numberwithin=section]{theorem}
    \declaretheorem[style=thmbluebox,name=Lemma,
        preheadhook=\vspace{\parskip},numberwithin=section]{lemma}
    \declaretheorem[style=thmbluebox,name=Proposition,
        preheadhook=\vspace{\parskip},numberwithin=section]{proposition}
    \declaretheorem[style=thmbluebox,name=Corollary,
        preheadhook=\vspace{\parskip},numberwithin=section]{corollary}
    \declaretheorem[style=thmbluebox,name=Principle,
        preheadhook=\vspace{\parskip},numberwithin=section]{principle}
    \declaretheorem[style=thmbluebox,name=Law,
        preheadhook=\vspace{\parskip},numberwithin=section]{law}
    \declaretheorem[style=thmaltbluebox,name=Algorithm,
        preheadhook=\vspace{\parskip},numberwithin=section]{algo}
    \declaretheorem[style=thmaltbluebox,name=Rule,
        preheadhook=\vspace{\parskip},numberwithin=section]{boxrule}
}
{        % else use chapter numbering
    \declaretheorem[style=thmbluebox,name=Theorem,
        preheadhook=\vspace{\parskip},numberwithin=chapter]{theorem}
    \declaretheorem[style=thmbluebox,name=Lemma,
        preheadhook=\vspace{\parskip},numberwithin=chapter]{lemma}
    \declaretheorem[style=thmbluebox,name=Proposition,
        preheadhook=\vspace{\parskip},numberwithin=chapter]{proposition}
    \declaretheorem[style=thmbluebox,name=Corollary,
        preheadhook=\vspace{\parskip},numberwithin=chapter]{corollary}
    \declaretheorem[style=thmbluebox,name=Principle,
        preheadhook=\vspace{\parskip},numberwithin=chapter]{principle}
    \declaretheorem[style=thmbluebox,name=Law,
        preheadhook=\vspace{\parskip},numberwithin=chapter]{law}
    \declaretheorem[style=thmaltbluebox,name=Algorithm,
        preheadhook=\vspace{\parskip},numberwithin=chapter]{algo}
    \declaretheorem[style=thmaltbluebox,name=Rule,
        preheadhook=\vspace{\parskip},numberwithin=chapter]{boxrule}
}

\declaretheorem[style=thmaltbluebox,name=List,
    preheadhook=\vspace{\parskip},numberwithin=section]{boxlist}
\declaretheorem[style=thmaltbluebox,name=Fact,
    preheadhook=\vspace{\parskip},numberwithin=section]{fact}
\declaretheorem[style=thmaltbluebox,name=Review,
    preheadhook=\vspace{\parskip},numberwithin=section]{review}
\declaretheorem[style=thminlinebox,name=Definition, 
    preheadhook=\vspace{\parskip},numberwithin=section]{definition}
\declaretheorem[style=thmmiscbluebox,name=Example, 
    preheadhook=\vspace{\parskip},numberwithin=section]{example}
\declaretheorem[style=thmbluebox,name=Theorem,
    preheadhook=\vspace{\parskip},numbered=no]{theorem*}
\declaretheorem[style=thmbluebox,name=Lemma,
    preheadhook=\vspace{\parskip},numbered=no]{lemma*}
\declaretheorem[style=thmbluebox,name=Proposition,
    preheadhook=\vspace{\parskip},numbered=no]{proposition*}
\declaretheorem[style=thmbluebox,name=Corollary,
    preheadhook=\vspace{\parskip},numbered=no]{corollary*}
\declaretheorem[style=thmbluebox,name=Principle,
    preheadhook=\vspace{\parskip},numbered=no]{principle*}
\declaretheorem[style=thmbluebox,name=Law,
    preheadhook=\vspace{\parskip},numbered=no]{law*}
\declaretheorem[style=thmaltbluebox,name=Algorithm,
    preheadhook=\vspace{\parskip},numbered=no]{algo*}
\declaretheorem[style=thmaltbluebox,name=List,
    preheadhook=\vspace{\parskip},numbered=no]{boxlist*}
\declaretheorem[style=thmaltbluebox,name=Fact,
    preheadhook=\vspace{\parskip},numbered=no]{fact*}
\declaretheorem[style=thmaltbluebox,name=Review,
    preheadhook=\vspace{\parskip},numbered=no]{review*}
\declaretheorem[style=thminlinebox,name=Definition,
    preheadhook=\vspace{\parskip},numbered=no]{definition*}
\declaretheorem[style=thmmiscbluebox,name=Example,
    preheadhook=\vspace{\parskip},numbered=no]{example*}

\theoremstyle{def}


\newtheorem{abuse}{Abuse of Notation}
\newtheorem{answer}{Answer}
\newtheorem{conjecture}{Conjecture}
\newtheorem{ques}{Question}
\newtheorem{note}{Note}
\newtheorem{remark}{Remark}
\newtheorem{exercise}{Exercise}
\newtheorem{problem}{Problem}
\newtheorem{soln}{Solution}

\newtheorem*{answer*}{Answer}
\newtheorem*{abuse*}{Abuse of Notation}
\newtheorem*{conjecture*}{Conjecture}
\newtheorem*{joke*}{Joke}
\newtheorem*{ques*}{Question}
\newtheorem*{note*}{Note}
\newtheorem*{remark*}{Remark}
\newtheorem*{exercise*}{Exercise}
\newtheorem*{problem*}{Problem}
\newtheorem*{thmproof}{Proof}
\newtheorem*{thmsubproof}{Subproof}
\newtheorem*{soln*}{Solution}


\newtheoremstyle{subdef}%
    {5pt}{0pt}%
    {\normalfont}{}%
    {\sffamily\small\bfseries}{ }%
    { }%
    {\thmname{#1}\thmnumber{ #2}\thmnote{ (#3)}}

\theoremstyle{subdef}


\newtheorem{case}{Case}
\newtheorem{claim}{Claim}
\newtheorem{probtheorem}{Theorem}
\newtheorem{problemma}{Lemma}

\newtheorem*{case*}{Case}
\newtheorem*{claim*}{Claim}
\newtheorem*{probproof}{Proof}
\newtheorem*{probsubproof}{Subproof}
\newtheorem*{probtheorem*}{Theorem}
\newtheorem*{problemma*}{Lemma}

\AtEndEnvironment{soln}{\null\hfill\qedsymbol}
\AtEndEnvironment{thmproof}{\null\hfill\qedsymbol}
\AtEndEnvironment{soln*}{\null\hfill\qedsymbol}
\AtEndEnvironment{probproof}{\null\hfill\qedsymbol}

\AtEndEnvironment{thmsubproof}{\null\hfill\blacksquare}
\AtEndEnvironment{probsubproof}{\null\hfill\blacksquare}
