\ProvidesPackage{druv-thms}
\usepackage{druv-pkg}


% THEOREM STYLES AND SETUP
\AtBeginDocument {
    \setlength{\belowdisplayskip}{0.5em}
    \setlength{\belowdisplayshortskip}{0.2em}
    \setlength{\abovedisplayskip}{0.5em}
    \setlength{\abovedisplayshortskip}{0.2em}
}

\mdfsetup{
    roundcorner = 1pt,
    hidealllines = true,
    innertopmargin = 0.6em,
    innerbottommargin = 1em,
}

\newenvironment{solution}{\begin{proof}[Solution]}{\end{proof}}



\newcommand{\thmboxstyle}[4]{
    \mdfdefinestyle{#2}{
	linecolor = #3,
	backgroundcolor = #4,
    }
    \declaretheoremstyle[
    headfont = \bfseries\color{#3},
    notefont = \bfseries\color{#3},
    mdframed = {style = #2},
    headpunct = {\\[0.4pt]},
    postheadspace = {0pt}
    ]{#1}
}


\thmboxstyle{graybox}{mdgraybox}{grayforeground}{graybackground}
\thmboxstyle{theorembox}{mdbluebox}{blue}{blue!7}
\thmboxstyle{lemmabox}{mdgreenbox}{green!50!black}{green!7}

\declaretheoremstyle[
headfont = \bfseries,
notefont = \bfseries,
bodyfont = \normalfont
]{plain}

\newcommand{\boxhack}{~\vspace{-2em}}

\declaretheorem[style = theorembox, name = Theorem]{theorem}
\declaretheorem[style = theorembox, name = Theorem, numbered = no]{theorem*}
\declaretheorem[style = lemmabox, name = Lemma, sibling = theorem]{lemma}
\declaretheorem[style = lemmabox, name = Lemma, numbered = no]{lemma*}

\declaretheorem[style = plain, name = Corollary, sibling = theorem]{corollary}
\declaretheorem[style = plain, name = Corollary, numbered = no]{corollary*}
\declaretheorem[style = plain, name = Case, sibling = theorem]{case}
\declaretheorem[style = plain, name = Case, numbered = no]{case*}
\declaretheorem[style = plain, name = Claim, sibling = theorem]{claim}
\declaretheorem[style = plain, name = Claim, numbered = no]{claim*}
\declaretheorem[style = plain, name = Definition, sibling = theorem]{definition}
\declaretheorem[style = plain, name = Definition, numbered = no]{definition*}
\declaretheorem[style = plain, name = Problem, sibling = theorem]{problem}
\declaretheorem[style = plain, name = Problem, numbered = no]{problem*}

\declaretheorem[style = plain, name = Algorithm, sibling = theorem]{algo}
\declaretheorem[style = plain, name = Algorithm, numbered = no]{algo*}
\declaretheorem[style = plain, name = Conjecture, sibling = theorem]{conjecture}
\declaretheorem[style = plain, name = Conjecture, numbered = no]{conjecture*}
\declaretheorem[style = plain, name = Example, sibling = theorem]{example}
\declaretheorem[style = plain, name = Example, numbered = no]{example*}
\declaretheorem[style = plain, name = Exercise, sibling = theorem]{exercise}
\declaretheorem[style = plain, name = Exercise, numbered = no]{exercise*}
\declaretheorem[style = plain, name = Fact, sibling = theorem]{fact}
\declaretheorem[style = plain, name = Fact, numbered = no]{fact*}
\declaretheorem[style = plain, name = Question, sibling = theorem]{question}
\declaretheorem[style = plain, name = Question, numbered = no]{question*}
\declaretheorem[style = plain, name = Remark, sibling = theorem]{remark}
\declaretheorem[style = plain, name = Remark, numbered = no]{remark*}

\declaretheoremstyle[
spaceabove = 1em,
headfont = \itshape,
notefont = \itshape,
bodyfont = \normalfont,
preheadhook = \vspace{-2em}\begin{quote},
postfoothook = \end{quote}
]{smallplain}

\declaretheorem[style = smallplain, name = Case, numbered = no]{smallcase}
\declaretheorem[style = smallplain, name = Claim, numbered = no]{smallclaim}
\declaretheorem[style = smallplain, name = Lemma, numbered = no]{smalllemma}
\newenvironment{smallproof}[1][\proofname]
{\begin{quote}\begin{proof}[#1]\renewcommand*{\qedsymbol}{\textcolor{red!70}{\(\blacksquare\)}}}
{\end{proof}\end{quote}}
