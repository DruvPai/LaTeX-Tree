\ProvidesPackage{druv-doc}

%%%%% ASSUMPTION: NOT USING BEAMER

%%% MARGINS
\RequirePackage{geometry}
\geometry{margin=3cm}


%%% DISABLE HEADER ISSUES
\pdfstringdefDisableCommands{%
    \let\enspace\empty  % this causes the warning for \kern
    \let\noindent\empty % this causes the warning for \indent
}

%% ADD SUBTITLE AND DATE TO TITLE
\newcommand{\thesubtitle}{}
\NewDocumentCommand{\subtitle}{m}{\renewcommand{\thesubtitle}{#1}}
\newcommand{\thedate}{}
\RenewDocumentCommand{\date}{m}{\renewcommand{\thedate}{#1}}

\ifdef{\chapter}{
    \renewcommand{\@maketitle}{%
        \thispagestyle{empty}
        {
            \topskip\z@skip
            \null\vfil
            \centering 
            {
                {\Huge\bfseries \@title}
                \par\vspace{1em}
                \ifblank{\thesubtitle}{}{{\LARGE\bfseries\thesubtitle}\par\vspace{2em}}
                {\LARGE\mdseries\authors}\par\vspace{2em}
                {\LARGE\mdseries\thedate}\par\bigskip
            }
        }
        \vfil
        \@setabstract
        \newpage
    }
}{
    \renewcommand{\@maketitle}{%
        \thispagestyle{plain}
        {
            \topskip\z@skip
            \null
            \centering 
            {
                {\large\bfseries \MakeUppercase{\@title}}
                \par\vspace{0.5em}
                \ifblank{\thesubtitle}{}{{\bfseries\thesubtitle}\par\vspace{0.5em}}
                {\mdseries\authors}\par\vspace{0.5em}
                {\mdseries\thedate}\par\bigskip
            }
            \vspace{2em}
            \vspace{-\baselineskip}
            \@setabstract
        }
    }
}

