\ProvidesPackage{druv-pgs}
\usepackage{druv-pkg}

%%% DOCUMENT SETUP %%%
% TITLE, HEADER
% Fancy Section and Chapter Heads
\@ifundefined{chapter}{}{
    \addtokomafont{partprefix}{\sffamily}
    \renewcommand*{\partformat}{\color{Blue}
        \scalebox{2.5}{\thepart}\enlargethispage{2em}}
    \addtokomafont{chapterprefix}{\raggedleft}
    \RedeclareSectionCommand[beforeskip=0.5em]{chapter}
    \renewcommand*{\chapterformat}{\mbox{%
        \scalebox{1.5}{\chapappifchapterprefix{\nobreakspace}}%
        \scalebox{2.718}{\color{Blue}\thechapter}\enskip}}
}
\renewcommand*{\sectionformat}%
    {\color{Blue}\thesection\enskip}
\renewcommand*{\subsectionformat}%
    {\color{Blue}\thesubsection\enskip}
\renewcommand*{\subsubsectionformat}%
    {\color{Blue}\thesubsubsection\enskip}
\KOMAoptions{numbers=noenddot}
\usepackage[tocindentauto]{tocstyle}
\usetocstyle{KOMAlike}

% Title
\newcommand{\thesubtitle}{}
\@ifundefined{chapter}{
    % No \chapter, so small style

    \renewcommand{\subtitle}[1]{%
        \renewcommand{\thesubtitle}{#1}
        \pretitle{\begin{center}\bfseries \sffamily \Large}
        \posttitle{\\ {\normalsize \thesubtitle} \end{center}\vspace{\posttitledrop}}
    }
}{
    % \chapter exists, so large style
    \renewcommand{\subtitle}[1]{%
        \renewcommand{\thesubtitle}{#1}
        \pretitle{\begin{center}\bfseries \sffamily \Huge}
        \posttitle{\\ {\Large \thesubtitle} \end{center}\vspace{\posttitledrop}}
    }
}

\newlength{\posttitledrop}
\newlength{\postauthordrop}
\@ifundefined{chapter}{
    % No \chapter, so small style
    \setlength{\posttitledrop}{1em}
    \setlength{\postauthordrop}{1em}
    \pretitle{\begin{center}\bfseries \sffamily \Large}
    \posttitle{\end{center}\vspace{\posttitledrop}}
    \preauthor{\begin{center} \bfseries \sffamily}
    \postauthor{\end{center}\vspace{\postauthordrop}}
    \predate{\begin{center}\small}
    \postdate{\end{center}}
}{
    % \chapter exists, so large style
    \setlength{\droptitle}{-8cm}
    \setlength{\posttitledrop}{1em}
    \setlength{\postauthordrop}{0.5em}
    \pretitle{\begin{center}\bfseries \sffamily \Huge}
    \posttitle{\end{center}\vspace{\posttitledrop}}
    \preauthor{\begin{center} \sffamily \LARGE}
    \postauthor{\end{center}\vspace{\postauthordrop}}
    \predate{\begin{center} \Large}
    \postdate{\end{center}}
}

% Cover pages for assignments
\newcommand{\theclassid}{Class ID}
\newcommand{\classid}[1]{\renewcommand{\theclassid}{#1}}
\newcommand{\thesubject}{Class Subject}
\renewcommand{\subject}[1]{\renewcommand{\thesubject}{#1}}
% title, subtitle, author already done
\newcommand{\thebook}{Book}
\newcommand{\textbook}[1]{\renewcommand{\thebook}{#1}}
\newcommand{\theemail}{druv@berkeley.edu}
\newcommand{\email}[1]{\renewcommand{\theemail}{#1}}
\newcommand{\theid}{\studentid}
\newcommand{\idnumber}[1]{\renewcommand{\theid}{#1}}
\newcommand{\theprof}{Professor}
\newcommand{\professor}[1]{\renewcommand{\theprof}{#1}}
\newcommand{\thegsi}{GSI}
\newcommand{\gsi}[1]{\renewcommand{\thegsi}{#1}}
\newcommand{\theassignment}{Assignment}
\newcommand{\assignment}[1]{\renewcommand{\theassignment}{#1}\setcounter{problem}{0}\setcounter{answer}{0}\setcounter{soln}{0}}
\newcommand{\theproblems}{Problems}
\newcommand{\problems}[1]{\renewcommand{\theproblems}{#1}}

\newcommand{\coverpage}{
    \begin{titlepage}
        \begin{center}
            {\sffamily \bfseries \LARGE \theclassid \par}
            \vspace{0.3cm}
            {\sffamily \bfseries \LARGE \thesubject \par}
            \vspace{2cm}
            {\includegraphics[width=0.3\textwidth]{\berkeleylogo}\par}
            \vspace{2cm}
            {\sffamily \bfseries \Huge \thetitle \par}
            \vspace{0.4cm}
            {\sffamily \bfseries \LARGE Textbook: \thebook \par}
            \vspace{2cm}
            {\scshape \Large \theauthor \par}
            \vspace{0.1cm}
            {\scshape \Large \plusemail{\theemail} \par}
            \vspace{0.1cm}
            {\scshape \Large ID: \theid \par}
            \vspace{1cm}
            {\scshape \Large Professor: \theprof \par}
            \vspace{0.1cm}
            {\scshape \Large GSI: \thegsi}
        \end{center}
    \end{titlepage}
}
\newcommand{\assignmentcover}{
    \subtitle{\theassignment}
    \begin{titlepage}
        \begin{center}
            {\sffamily \bfseries \LARGE \theclassid \par}
            \vspace{0.3cm}
            {\sffamily \bfseries \LARGE \thesubject \par}
            \vspace{7cm}
            {\sffamily \bfseries \Huge \theassignment \par}
            \vspace{0.4cm}
            {\sffamily \bfseries \LARGE \theproblems \par} 
            \vspace{4cm}
            {\scshape \Large \theauthor \par}
            \vspace{0.1cm}
            {\scshape \Large \plusemail{\theemail} \par}
            \vspace{0.1cm}
            {\scshape \Large ID: \theid \par}
            \vspace{1cm} 
            {\scshape \Large Professor: \theprof \par}
            \vspace{0.1cm}
            {\scshape \Large GSI: \thegsi}
        \end{center}
    \end{titlepage}
}



% PAGE SETUP

% Horizontal
\setlength{\paperwidth}{8.5in}
\setlength{\oddsidemargin}{0pt}
\setlength{\footskip}{0.5in}
\setlength{\hoffset}{-0.25in}
\setlength{\textwidth}{7in}
% Vertical
\renewcommand{\headfont}{\bfseries\sffamily\large}%{\bfseries}
\setlength{\parindent}{0cm}
\setlength{\voffset}{-0.25in} 
\setlength{\textheight}{9in}
\setlength{\headsep}{10pt}
\setlength{\paperheight}{11in}

\ihead{\theauthor}

\chead{\thesubtitle}

\ohead{\thetitle}

%\renewcommand*{\pagemark}{}
\cfoot{\pagemark}


\AtBeginDocument{%
    \title{}
    \author{Druv Pai}
    \date{}
}
