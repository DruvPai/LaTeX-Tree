\ProvidesPackage{druv-pgs}
\usepackage{druv-pkg}

%%% DOCUMENT SETUP %%%
% TITLE, HEADER
% Fancy Section and Chapter Heads
\@ifundefined{chapter}{}{
    \addtokomafont{partprefix}{\sffamily}
    \renewcommand*{\partformat}{\color{Blue}
    \scalebox{2.5}{\thepart}\enlargethispage{2em}}
    \addtokomafont{chapterprefix}{\raggedleft}
    \RedeclareSectionCommand[beforeskip=0.5em]{chapter}
    \renewcommand*{\chapterformat}{\mbox{%
            \scalebox{1.5}{\chapappifchapterprefix{\nobreakspace}}%
    \scalebox{2.718}{\color{Blue}\thechapter}\enskip}}
}
\renewcommand*{\sectionformat}%
{\color{Blue}\thesection\enskip}
\renewcommand*{\subsectionformat}%
{\color{Blue}\thesubsection\enskip}
\renewcommand*{\subsubsectionformat}%
{\color{Blue}\thesubsubsection\enskip}
% Section heading numbers in the margin
%\renewcommand{\sectionlinesformat}[4]{\makebox[0pt][r]{#3}#4}

\KOMAoptions{numbers=noenddot}
%\KOMAoptions{parskip=half}
\allowdisplaybreaks

% Make itemize bullets smaller
\setlist{noitemsep, topsep = 0.4em, listparindent=\parindent}
\renewcommand\labelitemi{\raisebox{0.15em}{\small\textbullet}}
%\renewcommand{\arraystretch}{0.8}

% Title
\newcommand{\thesubtitle}{}
\@ifundefined{chapter}{
    % no \chapter, so small style

    \renewcommand{\subtitle}[1]{%
        \renewcommand{\thesubtitle}{#1}
        \pretitle{\begin{center}\bfseries \sffamily \Large}
        \posttitle{\\ {\normalsize \thesubtitle} \end{center}\vspace{\posttitledrop}}
    }
    }{
    % \chapter exists, so large style
    \renewcommand{\subtitle}[1]{%
        \renewcommand{\thesubtitle}{#1}
        \pretitle{\begin{center}\bfseries \sffamily \Huge}
        \posttitle{\\ {\Large \thesubtitle} \end{center}\vspace{\posttitledrop}}
    }
}

\newlength{\posttitledrop}
\newlength{\postauthordrop}
\@ifundefined{chapter}{
    % No \chapter, so small style
    \setlength{\posttitledrop}{1em}
    \setlength{\postauthordrop}{1em}
    \pretitle{\begin{center}\bfseries \sffamily \Large}
    \posttitle{\end{center}\vspace{\posttitledrop}}
    \preauthor{\begin{center} \bfseries \sffamily}
    \postauthor{\end{center}\vspace{\postauthordrop}}
    \predate{\begin{center}\small}
    \postdate{\end{center}}
    }{
    % \chapter exists, so large style
    \setlength{\droptitle}{-8cm}
    \setlength{\posttitledrop}{1em}
    \setlength{\postauthordrop}{0.5em}
    \pretitle{\begin{center}\bfseries \sffamily \Huge}
    \posttitle{\end{center}\vspace{\posttitledrop}}
    \preauthor{\begin{center} \sffamily \LARGE}
    \postauthor{\end{center}\vspace{\postauthordrop}}
    \predate{\begin{center} \Large}
    \postdate{\end{center}}
}

\newcommand{\coverpage}[4][]{
    \title{#2}
    \subtitle{#3}
    \author{#4}
    \begin{titlepage}
        \begin{center}\bfseries \sffamily
            \null
            \vfill
            {\Huge #2 \par}
            {\LARGE #1 \par}
            \vfill
            \null
            \vfill
            \null
            \vfill
            {\Huge #3 \par}
            \vfill
            \null
            \vfill
            \null
            \vfill
            {\LARGE #4 \par}
            \vfill
        \end{center}
    \end{titlepage}
}


% PAGE SETUP

% Horizontal
\setlength{\paperwidth}{8.5in}
\setlength{\oddsidemargin}{0pt}
\setlength{\footskip}{0.5in}
\setlength{\hoffset}{-0.25in}
\setlength{\textwidth}{7in}
% Vertical
\renewcommand{\headfont}{\bfseries\sffamily\large}%{\bfseries}
%\setlength{\parindent}{0cm}
\setlength{\voffset}{-0.25in}
\setlength{\textheight}{9in}
\setlength{\headsep}{10pt}
\setlength{\paperheight}{11in}

\ihead{\theauthor}

\ohead{\thesubtitle}

\chead{\thetitle}

%\renewcommand*{\pagemark}{}
\cfoot{$ \pagemark $}


\AtBeginDocument{%
    \title{}
    \author{}
    \date{}
}
